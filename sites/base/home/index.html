<!--
 * @Desription: 文件说明
 * @Author: netstar.cy
 * @Date: 2019-08-22 16:17:01
 * @LastEditTime: 2019-10-22 18:16:47
 -->
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
	<meta name="description" content="网星云服务" />
	<meta name="author" content="netstar" />
	<link rel="stylesheet" href="../static/style/welcomepage/css/bs-less/animate.min.css">
	<link rel="stylesheet" href="../static/style/welcomepage/css/guide-less/guide.css">
	<title>DEV.网星云.HOME</title>

	<script type="text/javascript">
		var language = 'cn';
		mxBasePath = '/assets/flow/'; //mx基础库 应当有resource css images等 '../src';
	</script>
	<!--# include file="/sites/include/login-static-dev.html" -->
	<!--# include file="/sites/include/preload-static-dev.html" -->
	<!--# include file="/sites/include/mainpage-static-dev.html" -->
	<!--# include file="/sites/include/lazy-static-dev.html" -->

	<style>
	</style>
</head>

<body class="home pt-systeminfo pt-veritical">
	<!-- 主页的内容 start -->
	<div id="netstar-main-page" class="netstar-main-page netstar-project-erp">
		<!-- 头部 包含logo 主菜单 start -->
		<div class="pt-header">
			<div class="pt-container">
				<div class="pt-topbar">
					<div class="pt-container">
						<div class="pt-logo">
							<img src="/static/dev/images/erp/logo.png" alt="LOGO">
						</div>
						<!-- 系统选择器 -->
						<div class="system-change">
							<a href="#">
								<i class="icon-transtion-o"></i>
								<span>CRM</span>
							</a>
						</div>
						<div id="mainpage-systeminfo-contianer"></div>
					</div>
				</div>
				<div class="pt-navbar">
					<div class="pt-container">
						<!-- 主菜单 -->
						<div id="mainpage-menus-contianer" class="pt-nav pt-dropdown"></div>
					</div>
				</div>
				<div id="labelPages" class="pt-tabbar"></div>
			</div>
		</div>
		<!-- 状态列表 -->
		<div class="pt-state hide">
			<div class="pt-state-item pt-state-primary">
				<span class="pt-label">全部</span>
				<span class="pt-badge">99</span>
			</div>
			<div class="pt-state-item pt-state-success">
				<span class="pt-label">全部</span>
				<span class="pt-badge">99</span>
			</div>
			<div class="pt-state-item pt-state-warning">
				<span class="pt-label">全部</span>
				<span class="pt-badge">99</span>
			</div>
			<div class="pt-state-item pt-state-danger">
				<span class="pt-label">全部</span>
				<span class="pt-badge">99</span>
			</div>
			<div class="pt-state-item">
				<span class="pt-label">全部</span>
				<span class="pt-badge">99</span>
			</div>
		</div>
		<!-- 系统选择器弹框 -->
		<div class="system-change-modal hide">
			<div class="title">
				请选择项目
			</div>
			<!-- 列表 -->
			<ul class="nav">
				<li class="nav-item"><a href="#">CRM</a></li>
				<li class="nav-item current"><a href="#">ERP</a></li>
				<li class="nav-item"><a href="#">OA</a></li>
				<li class="nav-item"><a href="#">LIMS</a></li>
			</ul>
			<!-- 关闭按钮 -->
			<a href="#" class="close">
				<i class="icon-close"></i>
			</a>
		</div>
		<!-- 头部 包含logo 主菜单 end ---->
		<!-- 主页的内容 end   -->
		<container>
			<div class="container">
				<div class="row hide" id="netstar-welcomeGuide">
					<div class="guide-item">
						<!-- 导航 -->
						<div class="guide-nav">
							<ul class="" id="netstar-guide-nav">
								<li class="netstar-guide-nav-item current">
									<a href="javascript:NetstarWelocmePage.toPage(0);" title="开始">
										<div class="btn-icon">
											<span class="icon icon-arrow-right"></span>
										</div>
										<span>开始</span>
									</a>
								</li>
								<li class="netstar-guide-nav-item">
									<a href="javascript:NetstarWelocmePage.toPage(1);" title="">
										<div class="btn-icon ">
											<span class="icon icon-appointment"></span>
										</div>
										<span>设备管理</span>
									</a>
								</li>
								<li class="netstar-guide-nav-item">
									<a href="javascript:NetstarWelocmePage.toPage(2);" title="">
										<div class="btn-icon">
											<span class="icon icon-warehouse-o"></span>
										</div>
										<span>库房管理</span>
									</a>
								</li>
								<li class="netstar-guide-nav-item">
									<a href="javascript:NetstarWelocmePage.toPage(3);" title="">
										<div class="btn-icon">
											<span class="icon icon-minicode-bed-o"></span>
										</div>
										<span>床位管理</span>
									</a>
								</li>
								<li class="netstar-guide-nav-item">
									<a href="javascript:NetstarWelocmePage.toPage(4);" title="">
										<div class="btn-icon">
											<span class="icon icon-stop-o"></span>
										</div>
										<span>结束</span>
									</a>
								</li>
							</ul>
						</div>

						<!-- 轮播 -->
					</div>
					<div class="netstar-guide-banner">
						<ul class="netstar-guide-banner-item clearfix" id="netstar-guide-slider">
							<li class="netstar-guide-slider-item">
								<!-- 图片 -->
								<div class="left">
									<img src="../images/welcomepage/banner1.png" alt="">
								</div>
								<!-- 文字 -->
								<div class="right">
									<span class="icon icon-arrow-right"></span>
									<span class="slider-text">
										<p class="text">新手导航将带领您</p>
										<p class="text2">完成基本资料的维护，
										</p>
										<p class="text2">
											请根据导航，开始第一步吧</p>
									</span>
									<!-- <a href="" class="link">点击进入 >></a> -->
								</div>
							</li>
							<li class="netstar-guide-slider-item hide">
								<!-- 图片 -->
								<div class="left">
									<img src="../images/welcomepage/banner2.png" alt="">
								</div>
								<!-- 文字 -->
								<div class="right">
									<span class="icon icon-appointment"></span>
									<span class="slider-text">
										<p class="text">从平台引入您需要的设备</p>
										<p class="text2">并针对不同设备设置个性化告警</p>
									</span>
									<a href="" class="link">点击进入 >></a>
								</div>
							</li>
							<li class="netstar-guide-slider-item hide">
								<!-- 文字 -->
								<div class="right">
									<span class="icon icon-warehouse-o"></span>
									<span class="slider-text">
										<p class="text">建立一个存放设备库房</p>
										<!-- <p class="text2">并针对不同设备设置个性化告警</p> -->
									</span>
									<a href="" class="link">点击进入 >></a>
								</div>
								<!-- 图片 -->
								<div class="left">
									<img src="../images/welcomepage/banner3.png" alt="">
								</div>
							</li>
							<li class="netstar-guide-slider-item hide">
								<!-- 图片 -->
								<div class="left">
									<img src="../images/welcomepage/banner4.png" alt="">
								</div>
								<!-- 文字 -->
								<div class="right">
									<span class="icon icon-warehouse-o"></span>
									<span class="slider-text">
										<p class="text">住户入住前，需要先为住户准备好床位</p>
										<p class="text2">您还可以为床位绑定智能设备，住户选择该床位，</p>
										<p class="text2">入住后就可接收设备的监护</p>
									</span>
									<a href="" class="link">点击进入 >></a>
								</div>
							</li>
							<li class="netstar-guide-slider-item hide">
								<!-- 图片 -->
								<div class="left">
									<img src="../images/welcomepage/banner5.png" alt="">
								</div>
								<!-- 文字 -->
								<div class="right">
									<span class="icon icon-stop-o"></span>
									<span class="slider-text">
										<p class="text">导航结束</p>
										<p class="text2">导航结束，您可以使用本平台</p>

									</span>
									<!-- <a href="" class="link">点击进入 >></a> -->
								</div>
							</li>
						</ul>
					</div>
				</div>
				<div class="welcome hide" id="netstar-welcomeContent">
					<div class="welocmeContent">
						<image src="../images/welcomepage/welcome.png"></image>
					</div>
				</div>
			</div>
		</container>

		<script type="text/javascript">
			$(function () {
				function toLoginPage(res) {
					window.location.href = '/sites/base/test.html';
				}
				var authCode = NetStarUtils.OAuthCode.get();
				if (authCode == false) {
					//登录信息没有过期 不需要登录
					toLoginPage();
				}

				//由于某些特殊情况 config可能出现问题，比如手工删除了 cy 190828
				var config = store.get('NetstarLoginConfig');
				if (typeof (config) != 'string') {
					toLoginPage();
					return false;
				}

				config = JSON.parse(config);
				config.mainMenus.menuType = "left";
				var mainPageConfig = {
					html: '',                   				//页面
					mainMenus: config.mainMenus,   				//主菜单配置
					userMode: config.userMode,       			//用户模式
					getLoginProperty: config.getLoginProperty, 	//获取登录信息地址
					getDict: config.getDict,  					//系统字典
					mainPage: config.mainPage, 				// 主页面
					toLoginPage: toLoginPage, 					//跳转到登录页
					loginConfig: $.extend(true, {}, config),		// 登录保存的全部信息
					// 系统展示配置
					systemInfo: {
						id: 'mainpage-systeminfo-contianer',
						text: '请补充文字',
					},
				}
				NetstarHomePage.init(mainPageConfig);
			})
			// 新手导航页面 
			var NetstarWelocmePage = {};
			$(document).ready(function () {
				NetstarHomePage.config.callBackFunc = function () {
					var topOrgId = NetstarHomePage.config.systemInfo.userInfo.topOrgId;
					if (topOrgId == "1310307103319000050" || topOrgId == "1310239567105754098" || topOrgId == "1310307241831695346") {
						var $netstarWelcome = $("#netstar-welcomeContent");
						$netstarWelcome.removeClass("hide");
					} else {
						$netstarWelocmeGuide = $("#netstar-welcomeGuide");
						$netstarWelocmeGuide.removeClass("hide");
						var $WelocmenavLis = $('#netstar-guide-nav li');
						var currentSlideNumber = 0;
						NetstarWelocmePage.toPage = function (pageNumber) {
							$WelocmenavLis.removeClass('current');
							$WelocmenavLis.eq(pageNumber).addClass('current');
							var $sliderLis = $("#netstar-guide-slider li");
							// 图显示/隐藏
							$sliderLis.addClass("hide");
							$sliderLis.removeClass("animated fadeInLeft fadeOutRight");
							$sliderLis.eq(pageNumber).removeClass("hide");
							$sliderLis.eq(pageNumber).addClass("animated fadeInLeft");

							$sliderLis.eq(currentSlideNumber).removeClass("hide");
							$sliderLis.eq(currentSlideNumber).addClass("animated fadeOutRight");
							$sliderLis.eq(currentSlideNumber).on('animationend', function () {
							})
							currentSlideNumber = pageNumber;
						}
					}
				}

			});
		</script>
</body>

</html>